{% extends 'layout_main.html.twig' %}

{% block css %}

    {{ parent () }}
    <title>EMPRESAS - Echip</title>

{% endblock %}

{% block body %}

<div class="container-fluid" style="padding: 0">

    {{ parent () }}

    <div class="float-left-100-pad15" style="margin: 70px 0 15px 0;font-size: 18px;color: #900;text-decoration: underline">Modificar Empresa</div>

    <div class="float-left-100">
        <div style="float: left;width: 40%; margin-left: 15px">
        <fieldset>
            <legend>Buscar por:</legend>
            <input type="radio" name="buscaempre" id="buscaempre1" value="nombre" checked> Nombre &nbsp;&nbsp;&nbsp;
            <input type="radio" name="buscaempre" id="buscaempre2" value="cif"> CIF/NIF &nbsp;&nbsp;&nbsp;
            <input name="datosbusemp" id="datosbusemp" type="text" class="e-input font-12" style="width:40% "placeholder="Datos a buscar" autofocus>

        </fieldset>
        </div>
        <div style="float: left;width: 50%; margin-left: 15px">
            <fieldset>
                <legend>Empresas</legend>
                <select style="overflow-y: scroll;width: 100%; border: 1px dashed #3371c8; font: normal 12px monospace;" size="3" id="resbuscaemp">

                </select>
            </fieldset>
        </div>
    </div>

    <div class="float-left-100" style="margin: 10px 0 15px 0;font-size: 18px;color: #900;text-decoration: underline"><hr></div>

    <form id="frm-modiempresa1">
    <div id="emp-col1" style="float: left;width: 33%">
        <div class="mylabel">Nombre</div><input type="hidden" name="idusu" value="{{ idusu }}" data-tipo="noval"><input type="hidden" name="id" id="id" data-tipo="numero" value="">
        <div class="mydivinput"><input name="nombre" id="nombre" type="text" class="e-input font-12 ancho-100" data-tipo="empresas"></div>
        <div class="mylabel">CIF/NIF</div>
        <div class="mydivinput"><input name="cif" id="cif" type="text" class="e-input font-12" maxlength="20" data-tipo="dni"></div>
        <div class="mylabel">Dirección</div>
        <div class="mydivinput"><input name="calle" id="calle" type="text" class="e-input font-12 ancho-100" maxlength="100" data-tipo="direc"></div>
        <div class="mylabel">Población</div>
        <div class="mydivinput"><input name="ciudad" id="ciudad" type="text" class="e-input font-12 ancho-100" maxlength="50" data-tipo="ciudad"></div>
        <div class="mylabel">C.P.</div>
        <div class="mydivinput"><input name="cp" id="cp" type="text" class="e-input font-12" maxlength="7" data-tipo="cp-b"></div>
        <div class="mylabel">Provincia</div>
        <div class="mydivinput"><input name="provincia" id="provincia" type="text" class="e-input font-12 ancho-100" maxlength="25" list="aux-prov" data-tipo="ciudad"></div>
        <datalist id="aux-prov">
            {% for pr in provincias %}
                <option value="{{ pr.provincia }}">{{ pr.provincia }}</option>
            {% endfor %}
        </datalist>
        <div class="mylabel">Pais</div>
        <div class="mydivinput"><input name="pais" id="pais" type="text" class="e-input font-12 ancho-100" maxlength="25" value="España" data-tipo="ciudad"></div>
        <div class="mylabel">Teléfono</div>
        <div class="mydivinput"><input name="telf" id="telf" type="text" class="e-input font-12" maxlength="15" data-tipo="telf-b"></div>
        <div class="mylabel">Móvil</div>
        <div class="mydivinput"><input name="movil" id="movil" type="text" class="e-input font-12" maxlength="15" data-tipo="telf-b"></div>
        <div class="mylabel">E-mail</div>
        <div class="mydivinput"><input name="email" id="email" type="text" class="e-input font-12 ancho-100" maxlength="255" data-tipo="email-b"></div>
        <div class="mylabel">Pág. WEB</div>
        <div class="mydivinput"><input name="web" id="web" type="text" class="e-input font-12 ancho-100" maxlength="100" data-tipo="noval"></div>

        <div class="float-left-100" style="height: 40px"></div>

        <div class="float-left-100-pad15">
        <fieldset style="border-color: #900">
            <legend style="color: #900">Bancos</legend>
            <div id="listabancos" class="float-left-100" style="float: left; background-color: #fff;overflow-y: scroll;font:normal 12px monospace;padding-right: 5px;height: 60px">

            </div>

        </fieldset>
        </div>

    </div>
    </form>


    <div id="emp-col2" style="float: left;width: 32%">

        <form id="frm-modiempresa2">
        <div class="mylabel">Tipo Imp.</div>
        <div class="mydivinput"><input name="tipo_iva" id="tipo_iva" type="text" class="e-input font-12" maxlength="10" data-tipo="codigos" placeholder="IVA,IGIC,IPSI" title="Nombre del Impuesto (IVA, IGIC,IPSI u otro)"></div>
        <div class="mylabel">Cuota Imp.</div>
        <div class="mydivinput"><input name="iva" id="iva" type="text" class="e-input font-12 text-right decimal2" maxlength="15" size="6" value="" data-tipo="float2d" title="% que se aplica en las facturas"> <span class="c-azul">%</span></div>

        <div class="mylabel">Exento Imp.</div>
        <div class="mydivinput">
            <input type="radio" name="exento_iva" id="exentono" value="no" checked data-tipo="noval" > No
            <input type="radio" name="exento_iva" id="exentosi" value="si"  data-tipo="noval" > Sí&nbsp;&nbsp;&nbsp;
        </div>
        <div class="mylabel">Texto Exec.</div>
        <div class="mydivinput"><input name="texto_exento" id="texto_exento" type="text" class="e-input font-12 ancho-100"  data-tipo="noval" title="Texto/Ley de la exención" placeholder="Texto/Ley de la exención" maxlength="100"></div>

        <div class="mylabel">Retención</div>
        <div class="mydivinput" style="width: 30%;"><input name="retencion" id="retencion" type="text" class="e-input font-12 text-right decimal2" maxlength="15" size="6" value="0.00" data-tipo="float2d" title="Retención en facturas (Profesionales o Autónomos)"> <span class="c-azul">%</span></div>
            <div style="float: right;color: #3371c8;padding-top: 10px">Rec.Equi.
                <input name="req_equi" id="req_equi" type="text" class="e-input font-12 text-right decimal2" maxlength="5" value="0.00" data-tipo="float2d" title="Recargo Equivalencia (%)" style="position: relative;top: -6px;left: 10px;color: #000;width: 40px">&nbsp;&nbsp;&nbsp;%</div>



        <div class="mylabel">Prefijo Fac.</div>
        <div class="mydivinput"><input name="prefijo_numfac" id="prefijo_numfac" type="text" class="e-input font-12" maxlength="10" data-tipo="noval" placeholder="Ejem. WEB-" title="Texto que va antes del número de factura"></div>
        <div class="mylabel">Número Fac.</div>
        <div class="mydivinput"><input name="numero_fac" id="numero_fac" type="text" class="e-input font-12 text-right" maxlength="15" size="6" value="" data-tipo="numero" title="Numero de factura" placeholder="Número entero"></div>
        <div class="mylabel">Sufijo Fac.</div>
        <div class="mydivinput"><input name="sufijo_numfac" id="sufijo_numfac" type="text" class="e-input font-12" maxlength="10" data-tipo="noval" placeholder="Ejem. /2018" title="Texto que va después del número de factura"></div>
        <div class="mylabel">Texto R.M.</div>
        <div class="mydivinput"><input name="registro_mercantil" id="registro_mercantil" type="text" class="e-input font-12 ancho-100"  data-tipo="noval" title="Texto de inscripción en el Registro Mercantil" placeholder="Texto Registro Mercantil"></div>
        </form>

        <form id="frm-modiempresa3">
        <div class="mylabel">Moneda</div>
        <div class="mydivinput"><input name="cf_moneda" id="cf_moneda" type="text" class="e-input font-12" maxlength="20" size="10" value="Eur" data-tipo="noval" title="Moneda base, a ser posible el código (3 letras)" placeholder="Moneda"></div>
        <div class="mylabel">Símbolo Mo.</div>

        <div class="mydivinput"><input name="cf_mo_simbolo" id="cf_mo_simbolo" type="text" class="e-input font-12" maxlength="5" value="€" data-tipo="noval" title="Símbolo de la moneda" placeholder="" style="width: 13%;margin-bottom: 10px">
            <input name="cf_decimales" id="cf_decimales" type="text" class="e-input font-12 text-right" maxlength="5" size="5" value="2" data-tipo="numero" title="Los decimales de la factura" style="color: #000;"><span style="color: #3371c8;line-height: 1.2">&nbsp;&nbsp;&nbsp;Decimales</span>
        </div>
        </form>

        <div class="float-left-100" style="height: 40px">
            <!--<div style="clear: both;float: left;width: 30%"><button type="button" id="btn-limpiaremp" class="btn-trans input-sm color-negro" style="margin-right: 40px">limpiar Datos</button></div>-->
            <div style="float: right;width: 40%;text-align: right"><button type="button" id="btn-modiempresa" class="btn-trans input-sm" style="border: 1px solid #3371c8">Modificar Empresa</button></div>
        </div>

        <form id="frm-modiempresa5">
            <div class="mylabel" style="color: #900">C/Bancaria</div>
            <div class="mydivinput">
                <input name="numero_cuenta" id="numero_cuenta" type="text" class="e-input font-12 ancho-100" maxlength="4" data-tipo="banco" style="border-color: #900;width: 35px;font: normal 12px monospace">
                <input id="cc2" type="text" class="e-input font-12 ancho-100" maxlength="4" style="border-color: #900;width: 35px;font: normal 12px monospace">
                <input id="cc3" type="text" class="e-input font-12 ancho-100" maxlength="4" style="border-color: #900;width: 35px;font: normal 12px monospace">
                <input id="cc4" type="text" class="e-input font-12 ancho-100" maxlength="4" style="border-color: #900;width: 35px;font: normal 12px monospace">
                <input id="cc5" type="text" class="e-input font-12 ancho-100" maxlength="4" style="border-color: #900;width: 35px;font: normal 12px monospace">
                <input id="cc6" type="text" class="e-input font-12 ancho-100" maxlength="4" style="border-color: #900;width: 35px;font: normal 12px monospace">
            </div>
            <div class="mylabel" style="color: #900">Banco</div>
            <div class="mydivinput"><input name="banco" id="banco" type="text" class="e-input font-12" maxlength="24" placeholder="Nombre del Banco" data-tipo="noval" style="width: 59%; font: normal 12px monospace;border-color: #900">&nbsp;&nbsp;&nbsp;&nbsp;<input name="swift" id="swift" type="text" class="e-input font-12" maxlength="15" placeholder="SWIFT" title="swift" data-tipo="banco-b" style="width: 34%;border-color: #900;font: normal 12px monospace"></div>
            <div class="mylabel" style="color: #900">Usar Cuenta</div>
            <div class="mydivinput">
                <input type="radio" name="activa" id="sino1" value="si" data-tipo="noval"> Si &nbsp;&nbsp;&nbsp;
                <input type="radio" name="activa" id="sino2" value="no" data-tipo="noval"> No&nbsp;&nbsp;&nbsp;
            </div>

            <div class="float-left-100">

                <div style="float: right;width: 50%;text-align: right"><button type="button" id="btn-modibanco" class="btn-trans input-sm color-rojo"  style="border: 1px solid #900">Modificar/Añadir Banco</button></div>
            </div>
        </form>


    </div>


    <form id="frm-modiempresa4">
    <div id="emp-col3" style="float: left;width: 32%; height: auto;padding-left: 15px;margin-left:15px;border-left: 1px dashed #ddd">
        <div class="float-left-50 c-azul" style="text-decoration: underline">Nuevo logo</div>
        <div id="listafiles" class="float-left-50" style="height: auto; text-align: right;font-size: 10px;padding-top: 5px">&nbsp;</div>

        <div class="float-left-100">
            <div id="verbase" alt="Visualización base" style="border: ;height: 200px; width: 100%; margin-top: 20px">
            <img name="verlogo" id="verlogo" style="border: 0; max-height: 200px; max-width: 396px" src="" alt="Máximo tamaño 100 Kb (jpg,gif,png,svg)">
        </div>
        <div class="float-left-100" style="margin-top: 20px;padding-left: 0">
            <input type="file" class="input-sm" id="logo" name="logo" style="width: 100%;padding-left: 0">
        </div>

        <div class="float-left-100" style="height: auto; margin-top: 40px">
            <fieldset>
                <legend>Logos disponibles</legend>
                <div id="listalogos" class="float-left-100" style="float: left; background-color: #d0e5f5;min-height: 35px">


                </div>

            </fieldset>
        </div>

        <div class="float-left-100">

            <div style="float: right;width: 40%; text-align: right"><button type="button" id="btn-anadirlogo" class="btn-trans input-sm" style="border: 1px solid #3371c8">Añadir Logo</button></div>
        </div>

    </div>



    </div>
    </form>

    <div class="float-left-100">
        <ul>
            <li>El logo no puede pasar de 100 Kb</li>
            <li>Si sale cortado, aunque sea menor de 100 Kb habría que reducirlo</li>
        </ul>
    </div>






</div>

{% endblock %}


{% block javascript %}

    {{ parent() }}
    <script src="/static/js/empresas_modi.js"></script>


{% endblock %}